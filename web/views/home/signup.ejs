<!-- views/signup.ejs -->
<!doctype html>
<html>
<head>
    <title>Signup</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> <!-- load bootstrap css -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic" type='text/css'>
    <link href="/public/css/bootstrap.min.css" rel="stylesheet">
    <script src="/public/js/jquery-2.1.4.js"></script>
    <script src="/public/js/bootstrap.min.js"></script>

    <style>
        html{
            min-height:100%;/* make sure it is at least as tall as the viewport */
            position:relative;
        }
        body{
            height:100%; /* force the BODY element to match the height of the HTML element */
            padding-top:80px;
        }
        #back-container{
            position:absolute;
            top:0;
            bottom:0;
            left:0;
            right:0;
            overflow:hidden;
            z-index:-1; /* Remove this line if it's not going to be a background! */
        }
    </style>

    <script type="text/javascript">

        function checkForm(form)
        {
            if(form.email.value == "") {
                alert("Error: Email cannot be blank!");
                form.email.focus();
                return false;
            }
            if(form.firstName.value == "") {
                alert("Error: First name cannot be blank!");
                form.firstName.focus();
                return false;
            }
            if(form.lastName.value == "") {
                alert("Error: Last name cannot be blank!");
                form.lastName.focus();
                return false;
            }

            if(form.password.value != "") {
                if(form.password.value !== form.password2.value){
                    alert("Error: Passwords must be equivalent");
                    form.password.focus();
                    return false;
                }
                if(form.password.value.length < 6) {
                    alert("Error: Password must contain at least six characters!");
                    form.password.focus();
                    return false;
                }
                if(form.password.value == form.username.value) {
                    alert("Error: Password must be different from Email!");
                    form.pwd1.focus();
                    return false;
                }
//                re = /[0-9]/;
//                if(!re.test(form.password.value)) {
//                    alert("Error: password must contain at least one number (0-9)!");
//                    form.pwd1.focus();
//                    return false;
//                }
//                re = /[a-z]/;
//                if(!re.test(form.pwd1.value)) {
//                    alert("Error: password must contain at least one lowercase letter (a-z)!");
//                    form.pwd1.focus();
//                    return false;
//                }
//                re = /[A-Z]/;
//                if(!re.test(form.pwd1.value)) {
//                    alert("Error: password must contain at least one uppercase letter (A-Z)!");
//                    form.pwd1.focus();
//                    return false;
//                }
            } else {
                alert("Error: Please check that you've entered and confirmed your password!");
                form.password.focus();
                return false;
            }

            return true;
        }

    </script>

</head>
<body style="font-family: 'Open Sans', sans-serif; ">
<%- include ../shared/header.ejs %>
<div id="back-container" style="background-image: linear-gradient(#99C0CC 0px, #BBD2DB 100%);">
    <div class="container" style="padding-top:80px">

        <div class="col-sm-6 col-sm-offset-3">

            <h1><span class="fa fa-sign-in"></span> Signup</h1>

            <!-- show any messages that come back with authentication -->
            <% if (message.length > 0) { %>
            <div class="alert alert-danger"><%= message %></div>
            <% } %>

            <!-- LOGIN FORM -->
            <form action="/home/signup" method="post" onsubmit="return checkForm(this);">
                <div class="form-group">
                    <label>Email</label>
                    <input type="text" class="form-control" name="email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control" name="password">
                </div>
                <div class="form-group">
                    <label>Re Enter Password</label>
                    <input type="password" class="form-control" name="password2">
                </div>
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control" name="firstName">
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" name="lastName">
                </div>

                <button type="submit" class="btn btn-warning btn-lg">Signup</button>
            </form>

            <hr>

            <p>Already have an account? <a href="/home/login">Login</a></p>
            <p>Or go <a href="/">home</a>.</p>

        </div>

    </div>
</div>
</body>
</html>