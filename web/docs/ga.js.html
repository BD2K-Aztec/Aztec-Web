<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ga.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ga.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by awong on 5/20/2016.
 */

var chart;
var popularResourceData;
var popularResourceOptions;
function loadResourceChart(resourceStats, nameToUrlList) {
    resourceChartDrawn = true;
    var google2 = getGoogle();
    google2.charts.load('current', {'packages': ['corechart']});
    //console.log("here0");
    google2.charts.setOnLoadCallback(drawChart);
    function drawChart() {


        dataTable = [];
        colorList = ['red', 'blue', 'yellow', 'green', 'purple', 'magenta', 'orange', ]
        dataTable.push(['Resource Name', 'Visit Count', {role: 'style'}]);
        index = 0;
        for (key in resourceStats) {
            if(key.indexOf("qwertyuiop1234567890") &lt; 0)
                dataTable.push([key, parseInt(resourceStats[key]), 'color: ' + colorList[index]])
            index++;

            //var unsorted = [ ['Sally', 3],['Larry', 2],['Benny', 3],['Sammy', 1]];
            var sorted = dataTable.sort(function (a,b){
                if (b[1] === a[1]) {
                    return b[0] &lt; a[0] ? 1 : b[0] > a[0] ? -1 : 0;
                }
                return b[1] - a[1];
            });
        }

        //console.log(dataTable);
        popularResourceData = google2.visualization.arrayToDataTable(dataTable);

        //console.log(nameToUrlList);

        popularResourceOptions = {
            bar: {groupWidth: "95%"},
            legend: { position: "none" },
            chartArea: {top: 50 }
        };
        chart = new google2.visualization.BarChart(document.getElementById('chart-2-container'));
        //  var chart = new google.visualization.PieChart(document.getElementById('chart-2-container'));

        function selectHandler() {
            var selectedItem = chart.getSelection()[0];
            if (selectedItem) {
                var title = popularResourceData.getValue(selectedItem.row, 0);
                //alert('The user selected ' + topping);
                var url=nameToUrlList[title];
                setTimeout(window.location.href=url, 0)
                //window.location("http://google.com");
            }
        }

        google2.visualization.events.addListener(chart, 'select', selectHandler);
        chart.draw(popularResourceData, popularResourceOptions);
    }
    $(window).resize(function() {
        if(this.resizeTO) clearTimeout(this.resizeTO);
        this.resizeTO = setTimeout(function() {
            $(this).trigger('resizeEnd');
        }, 500);
    });

    //redraw graph when window resize is completed
    $(window).on('resizeEnd', function() {
        chart.draw(popularResourceData, popularResourceOptions);
    });
}





</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#chart">chart</a></li><li><a href="global.html#punycode">punycode</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.1</a> on Sun Sep 11 2016 11:33:17 GMT-0600 (MDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
